<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Integrali definiti – Classe quinta ITI</title>

  <!-- MathJax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f5f7;
      color: #222;
    }

    header {
      background: #273c75;
      color: white;
      padding: 1rem 1.5rem;
    }

    header h1 {
      margin: 0;
      font-size: 1.6rem;
    }

    header p {
      margin: 0.2rem 0 0;
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .container {
      padding: 1rem 1.5rem 2rem;
      max-width: 1100px;
      margin: 0 auto;
    }

    /* Tabs */
    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .tab-button {
      border: none;
      background: #dfe4ea;
      padding: 0.5rem 0.9rem;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 0.95rem;
      transition: background 0.2s, transform 0.1s;
    }

    .tab-button.active {
      background: #273c75;
      color: white;
      transform: translateY(-1px);
    }

    .tab-content {
      display: none;
      background: white;
      border-radius: 0.75rem;
      padding: 1rem 1.25rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }

    .tab-content.active {
      display: block;
    }

    h2 {
      margin-top: 0;
      font-size: 1.3rem;
      color: #273c75;
    }

    h3 {
      margin-top: 1rem;
      font-size: 1.05rem;
      color: #2f3542;
    }

    .box {
      border-left: 4px solid #273c75;
      background: #f5f7fb;
      padding: 0.75rem 0.9rem;
      margin: 0.5rem 0 0.8rem;
      border-radius: 0 0.5rem 0.5rem 0;
      font-size: 0.95rem;
    }

    .box-warning {
      border-left-color: #e84118;
      background: #fff2f0;
    }

    .box-tip {
      border-left-color: #20bf6b;
      background: #f2fff7;
    }

    .formula-inline {
      background: #f1f2f6;
      padding: 0 0.25rem;
      border-radius: 0.25rem;
      font-family: "JetBrains Mono", Menlo, Consolas, monospace;
      font-size: 0.9rem;
    }

    /* Esercizi + soluzioni a comparsa */
    .exercise {
      border-radius: 0.75rem;
      border: 1px solid #dcdde1;
      padding: 0.75rem 0.9rem;
      margin: 0.7rem 0;
      background: #ffffff;
    }

    .exercise h4 {
      margin: 0 0 0.3rem;
      font-size: 1rem;
      color: #273c75;
    }

    .exercise-level {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #888;
      margin-bottom: 0.3rem;
    }

    .solution-toggle {
      margin-top: 0.4rem;
      padding: 0.35rem 0.7rem;
      font-size: 0.85rem;
      border-radius: 999px;
      border: 1px solid #273c75;
      background: white;
      color: #273c75;
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
    }

    .solution-toggle:hover {
      background: #273c75;
      color: white;
    }

    .solution {
      margin-top: 0.4rem;
      padding: 0.6rem 0.7rem;
      border-radius: 0.5rem;
      background: #f5f6fa;
      display: none;
      font-size: 0.94rem;
    }

    .solution-visible {
      display: block;
    }

    .error-highlight {
      color: #e84118;
      font-weight: 600;
    }

    .checklist {
      list-style: none;
      padding-left: 0;
    }

    .checklist li::before {
      content: "✔ ";
      color: #20bf6b;
      font-weight: bold;
    }

    .two-cols {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 1rem;
    }

    @media (max-width: 800px) {
      .two-cols {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <header>
    <h1>Integrali definiti – Lezione interattiva</h1>
    <p>Classe quinta – Istituto tecnico (indirizzo informatica)</p>
  </header>

  <div class="container">
    <!-- TABS -->
    <div class="tabs">
      <button class="tab-button active" data-tab="teoria">Teoria</button>
      <button class="tab-button" data-tab="guidati">Esercizi guidati</button>
      <button class="tab-button" data-tab="allenamento">Esercizi di allenamento</button>
      <button class="tab-button" data-tab="applicazioni">Applicazioni (geometria &amp; fisica)</button>
      <button class="tab-button" data-tab="errori">Errori comuni &amp; strategie</button>
    </div>

    <!-- TEORIA -->
    <section id="teoria" class="tab-content active">
      <h2>1. Teoria degli integrali definiti</h2>

      <h3>1.1 Idea intuitiva</h3>
      <p>
        L’integrale definito di una funzione \(f(x)\) su un intervallo \([a,b]\) rappresenta, in prima
        approssimazione, l’<strong>area con segno</strong> compresa tra il grafico di \(f(x)\) e l’asse \(x\).
      </p>

      <div class="box">
        <strong>Idea chiave:</strong> spezzare l’intervallo \([a,b]\) in tanti pezzettini di ampiezza
        \(\Delta x\), costruire rettangoli di area \(f(x_i)\,\Delta x\) e sommare tutte le aree.
        Facendo diventare \(\Delta x\) sempre più piccolo (quindi i rettangoli sempre più sottili),
        la somma si avvicina all’<em>integrale definito</em>.
      </div>

      <h3>1.2 Definizione (livello intuitivo)</h3>
      <p>
        L’integrale definito di \(f\) su \([a,b]\) si scrive:
      </p>
      <p class="formula-inline">
        \(\displaystyle \int_a^b f(x)\,dx\)
      </p>
      <p>
        e rappresenta il limite (quando esiste) delle somme di Riemann
      </p>
      <p class="formula-inline">
        \(\displaystyle \sum_{i=1}^n f(x_i)\,\Delta x\).
      </p>

      <div class="box-warning">
        <strong>Errore tipico:</strong> pensare che l’integrale <em>sia</em> “area e basta”.
        In realtà è un’area <strong>con segno</strong>: se \(f(x) &lt; 0\) in un intervallo,
        la parte corrispondente dell’integrale è negativa.
      </div>

      <h3>1.3 Relazione con le primitive (Teorema fondamentale)</h3>
      <p>
        Se \(F(x)\) è una <strong>primiteva</strong> di \(f(x)\), cioè
        \[
          F'(x) = f(x),
        \]
        allora:
      </p>
      <p class="formula-inline">
        \(\displaystyle \int_a^b f(x)\,dx = F(b) - F(a).\)
      </p>

      <div class="two-cols">
        <div>
          <div class="box-tip">
            <strong>Uso pratico:</strong> per calcolare un integrale definito:
            <ol>
              <li>Cerco una primitiva \(F(x)\) di \(f(x)\).</li>
              <li>Calcolo \(F(b) - F(a)\).</li>
            </ol>
            Questo permette di evitare il lavoro “brutale” con le somme di Riemann.
          </div>
        </div>
        <div>
          <div class="box-warning">
            <strong>Errore tipico:</strong> dimenticare di valutare la primitiva
            sia in \(b\) sia in \(a\), oppure invertire l’ordine: si scrive sempre
            <span class="error-highlight">\(F(b) - F(a)\)</span>.
          </div>
        </div>
      </div>

      <h3>1.4 Proprietà fondamentali</h3>
      <ul>
        <li>
          <strong>Linearità</strong>: per ogni scalare \(k\),
          \[
            \int_a^b (k\,f(x))\,dx = k \int_a^b f(x)\,dx
          \]
          e
          \[
            \int_a^b (f(x)+g(x))\,dx = \int_a^b f(x)\,dx + \int_a^b g(x)\,dx.
          \]
        </li>
        <li>
          <strong>Additività</strong> rispetto all’intervallo:
          se \(c\) è un punto intermedio tra \(a\) e \(b\), allora
          \[
            \int_a^b f(x)\,dx = \int_a^c f(x)\,dx + \int_c^b f(x)\,dx.
          \]
        </li>
        <li>
          <strong>Invertire gli estremi</strong>:
          \[
            \int_b^a f(x)\,dx = - \int_a^b f(x)\,dx.
          \]
        </li>
        <li>
          <strong>Funzione nulla</strong>:
          se \(f(x) = 0\) su \([a,b]\), allora
          \[
            \int_a^b f(x)\,dx = 0.
          \]
        </li>
      </ul>

      <div class="box-warning">
        <strong>Errore tipico:</strong> trattare l’integrale come una parentesi normale.
        Non si può “distribuire” come si vuole; si possono usare solo le proprietà
        <strong>valide</strong> (linearità, additività sugli intervalli, ecc.).
      </div>

      <h3>1.5 Integrali di funzioni pari e dispari</h3>
      <p>
        Se \(f\) è <strong>pari</strong>, cioè \(f(-x) = f(x)\), allora:
      </p>
      <p class="formula-inline">
        \(\displaystyle \int_{-a}^{a} f(x)\,dx = 2 \int_0^{a} f(x)\,dx.\)
      </p>
      <p>
        Se \(f\) è <strong>dispari</strong>, cioè \(f(-x) = -f(x)\), allora:
      </p>
      <p class="formula-inline">
        \(\displaystyle \int_{-a}^{a} f(x)\,dx = 0.\)
      </p>

      <div class="box-warning">
        <strong>Errore tipico:</strong> usare le formule “di pari/dispari” quando la funzione non è
        realmente pari o dispari. Prima di applicarle:
        <ul>
          <li>Verifica velocemente la simmetria sul grafico o sulla formula.</li>
          <li>Controlla che l’intervallo sia davvero \([-a,a]\).</li>
        </ul>
      </div>
    </section>

    <!-- ESERCIZI GUIDATI -->
    <section id="guidati" class="tab-content">
      <h2>2. Esercizi guidati (passo-passo)</h2>
      <p>
        In questi esercizi la soluzione è mostrata <strong>passo per passo</strong>.
        Prova prima da solo, poi apri la soluzione per confrontare il procedimento.
      </p>

      <!-- Esercizio 1 -->
      <div class="exercise">
        <h4>Esercizio G1 – Integrale di un polinomio semplice</h4>
        <div class="exercise-level">Livello: base</div>
        <p>
          Calcola:
          \[
            \int_0^2 (3x^2 - 4x + 1)\,dx.
          \]
        </p>

        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p><strong>1° passo – Trovo la primitiva</strong></p>
          <p>
            Devo trovare una funzione \(F(x)\) tale che \(F'(x) = 3x^2 - 4x + 1\).
          </p>
          <ul>
            <li>
              Una primitiva di \(3x^2\) è \(x^3\) (perché \((x^3)' = 3x^2\)).
            </li>
            <li>
              Una primitiva di \(-4x\) è \(-2x^2\) (perché \((-2x^2)' = -4x\)).
            </li>
            <li>
              Una primitiva di \(1\) è \(x\).
            </li>
          </ul>
          <p>
            Quindi una primitiva complessiva è:
            \[
              F(x) = x^3 - 2x^2 + x.
            \]
          </p>

          <div class="box-warning">
            <strong>Errore tipico:</strong> dimenticare di dividere per il nuovo esponente:
            ad esempio, per \(3x^2\) pensare che la primitiva sia \(3x^3\) invece di \(x^3\).
          </div>

          <p><strong>2° passo – Applico il teorema fondamentale</strong></p>
          <p>
            Calcolo \(F(2) - F(0)\):
          </p>
          <p>
            \[
              F(2) = 2^3 - 2\cdot 2^2 + 2 = 8 - 8 + 2 = 2,
            \]
            \[
              F(0) = 0^3 - 2\cdot 0^2 + 0 = 0.
            \]
          </p>
          <p>
            Quindi:
            \[
              \int_0^2 (3x^2 - 4x + 1)\,dx = 2 - 0 = 2.
            \]
          </p>

          <div class="box-tip">
            <strong>Controllo rapido:</strong> la funzione è positiva su buona parte dell’intervallo,
            il risultato \(2\) è plausibile come “area con segno” (non enorme, ma neppure zero).
          </div>
        </div>
      </div>

      <!-- Esercizio 2 -->
      <div class="exercise">
        <h4>Esercizio G2 – Attenzione agli estremi e ai segni</h4>
        <div class="exercise-level">Livello: intermedio</div>
        <p>
          Calcola:
          \[
            \int_{-1}^2 (2x - 1)\,dx.
          \]
        </p>

        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p><strong>1° passo – Primitiva</strong></p>
          <p>
            Trovo una primitiva \(F(x)\) di \(2x - 1\):
            \[
              F(x) = x^2 - x,
            \]
            perché \((x^2 - x)' = 2x - 1\).
          </p>

          <p><strong>2° passo – Valutazione agli estremi</strong></p>
          <p>
            Calcolo \(F(2)\) e \(F(-1)\):
          </p>
          <p>
            \[
              F(2) = 2^2 - 2 = 4 - 2 = 2,
            \]
            \[
              F(-1) = (-1)^2 - (-1) = 1 + 1 = 2.
            \]
          </p>
          <p>
            Quindi:
            \[
              \int_{-1}^2 (2x - 1)\,dx = F(2) - F(-1) = 2 - 2 = 0.
            \]
          </p>

          <div class="box-warning">
            <strong>Errore tipico 1:</strong> fare per sbaglio \(F(-1) - F(2)\) invertendo l’ordine.<br />
            <strong>Errore tipico 2:</strong> pensare che integrale \(= 0\) significhi “non c’è area”.
            In realtà vuol dire che la parte positiva e quella negativa dell’area <em>si compensano</em>.
          </div>

          <p><strong>3° passo – Interpretazione grafica</strong></p>
          <p>
            La retta \(y = 2x-1\) taglia l’asse \(x\) in \(x = \frac{1}{2}\).
            Su \([-1,\frac{1}{2}]\) la funzione è negativa, su \([\frac{1}{2},2]\) è positiva.
            Le due “mezze aree” sono uguali in modulo e quindi si annullano.
          </p>
        </div>
      </div>

      <!-- Esercizio 3 -->
      <div class="exercise">
        <h4>Esercizio G3 – Funzione pari su intervallo simmetrico</h4>
        <div class="exercise-level">Livello: intermedio</div>
        <p>
          Calcola:
          \[
            \int_{-2}^{2} (x^2 + 1)\,dx
          \]
          sfruttando la simmetria.
        </p>

        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p><strong>1° passo – Riconoscere la simmetria</strong></p>
          <p>
            La funzione \(f(x) = x^2 + 1\) è <strong>pari</strong>:
            \[
              f(-x) = (-x)^2 + 1 = x^2 + 1 = f(x).
            \]
          </p>

          <p><strong>2° passo – Applicare la proprietà delle funzioni pari</strong></p>
          <p>
            Per una funzione pari:
            \[
              \int_{-a}^{a} f(x)\,dx = 2 \int_0^{a} f(x)\,dx.
            \]
          </p>
          <p>
            Quindi:
            \[
              \int_{-2}^{2} (x^2 + 1)\,dx
              = 2 \int_0^{2} (x^2 + 1)\,dx.
            \]
          </p>

          <p><strong>3° passo – Calcolo dell’integrale da 0 a 2</strong></p>
          <p>
            Trovo una primitiva:
            \[
              \int (x^2 + 1)\,dx = \frac{x^3}{3} + x + C.
            \]
            Allora:
            \[
              \int_0^{2} (x^2 + 1)\,dx = \left[\frac{x^3}{3} + x\right]_{0}^{2}
              = \left(\frac{8}{3} + 2\right) - (0 + 0)
              = \frac{8}{3} + 2 = \frac{14}{3}.
            \]
          </p>
          <p>
            Infine:
            \[
              \int_{-2}^{2} (x^2 + 1)\,dx
              = 2 \cdot \frac{14}{3} = \frac{28}{3}.
            \]
          </p>

          <div class="box-warning">
            <strong>Errore tipico:</strong> scordarsi il fattore 2 quando si usa la simmetria sulle funzioni pari,
            oppure applicarlo a funzioni che non sono realmente pari.
          </div>
        </div>
      </div>
    </section>

    <!-- ESERCIZI DI ALLENAMENTO -->
    <section id="allenamento" class="tab-content">
      <h2>3. Esercizi di allenamento (con soluzione a scomparsa)</h2>
      <p>
        Prova a risolvere questi esercizi. La soluzione completa è nascosta:
        usala solo per controllare il tuo lavoro o quando ti blocchi.
      </p>

      <!-- Allenamento 1 -->
      <div class="exercise">
        <h4>Esercizio A1 – Integrale di polinomio</h4>
        <div class="exercise-level">Livello: base</div>
        <p>
          Calcola:
          \[
            \int_{1}^{3} (2x^2 + x)\,dx.
          \]
        </p>
        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p>
            Primitiva:
            \[
              \int (2x^2 + x)\,dx = \frac{2x^3}{3} + \frac{x^2}{2} + C.
            \]
          </p>
          <p>
            Valuto da 1 a 3:
            \[
              \left[\frac{2x^3}{3} + \frac{x^2}{2}\right]_{1}^{3}
              = \left(\frac{2\cdot 27}{3} + \frac{9}{2}\right)
                - \left(\frac{2\cdot 1}{3} + \frac{1}{2}\right)
              = \left(18 + \frac{9}{2}\right)
                - \left(\frac{2}{3} + \frac{1}{2}\right).
            \]
          </p>
          <p>
            Semplificando:
            \[
              18 + \frac{9}{2} = \frac{36}{2} + \frac{9}{2} = \frac{45}{2},
            \]
            \[
              \frac{2}{3} + \frac{1}{2} = \frac{4}{6} + \frac{3}{6} = \frac{7}{6}.
            \]
            Quindi:
            \[
              \frac{45}{2} - \frac{7}{6}
              = \frac{135}{6} - \frac{7}{6}
              = \frac{128}{6} = \frac{64}{3}.
            \]
          </p>
          <p><strong>Risultato:</strong> \(\displaystyle \int_{1}^{3} (2x^2 + x)\,dx = \frac{64}{3}.\)</p>
        </div>
      </div>

      <!-- Allenamento 2 -->
      <div class="exercise">
        <h4>Esercizio A2 – Funzione dispari</h4>
        <div class="exercise-level">Livello: base / intermedio</div>
        <p>
          Calcola:
          \[
            \int_{-5}^{5} (x^3 - 2x)\,dx.
          \]
          Suggerimento: osserva la simmetria.
        </p>
        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p>
            La funzione \(f(x) = x^3 - 2x\) è dispari:
            \[
              f(-x) = (-x)^3 - 2(-x) = -x^3 + 2x = -(x^3 - 2x) = -f(x).
            \]
          </p>
          <p>
            Essendo dispari e integrata su un intervallo simmetrico \([-5,5]\):
            \[
              \int_{-5}^{5} f(x)\,dx = 0.
            \]
          </p>
          <p>
            <strong>Risultato:</strong> \(\displaystyle 0.\)
          </p>
        </div>
      </div>

      <!-- Allenamento 3 -->
      <div class="exercise">
        <h4>Esercizio A3 – Cambiamento di variabile semplice</h4>
        <div class="exercise-level">Livello: intermedio</div>
        <p>
          Calcola:
          \[
            \int_{0}^{1} (2x+1)^2\,dx.
          \]
          Suggerimento: puoi svolgere il quadrato oppure usare una sostituzione
          del tipo \(u = 2x+1\).
        </p>
        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p><strong>Metodo 1 – Sviluppo del quadrato</strong></p>
          <p>
            \((2x+1)^2 = 4x^2 + 4x + 1\), quindi:
            \[
              \int_{0}^{1} (2x+1)^2\,dx
              = \int_{0}^{1} (4x^2 + 4x + 1)\,dx.
            \]
          </p>
          <p>
            Primitiva:
            \[
              \int(4x^2 + 4x + 1)\,dx
              = \frac{4x^3}{3} + 2x^2 + x + C.
            \]
          </p>
          <p>
            Valuto da 0 a 1:
            \[
              \left[\frac{4x^3}{3} + 2x^2 + x\right]_{0}^{1}
              = \left(\frac{4}{3} + 2 + 1\right) - 0
              = \frac{4}{3} + 3
              = \frac{4}{3} + \frac{9}{3}
              = \frac{13}{3}.
            \]
          </p>
          <p><strong>Risultato:</strong> \(\displaystyle \frac{13}{3}.\)</p>

          <hr />

          <p><strong>Metodo 2 – Sostituzione \(u = 2x+1\)</strong></p>
          <p>
            Sia \(u = 2x + 1\), allora \(du = 2\,dx\) cioè \(dx = \frac{1}{2}du\).
          </p>
          <p>
            Quando \(x = 0\), \(u = 1\). Quando \(x = 1\), \(u = 3\). Quindi:
            \[
              \int_{0}^{1} (2x+1)^2\,dx
              = \int_{1}^{3} u^2 \cdot \frac{1}{2}\,du
              = \frac{1}{2} \int_{1}^{3} u^2\,du
              = \frac{1}{2}\left[\frac{u^3}{3}\right]_{1}^{3}
              = \frac{1}{2}\left(\frac{27}{3} - \frac{1}{3}\right)
              = \frac{1}{2} \cdot \frac{26}{3}
              = \frac{13}{3}.
            \]
          </p>

          <div class="box-warning">
            <strong>Errore tipico:</strong> dimenticare di cambiare gli estremi di integrazione
            quando si passa da \(x\) a \(u\); oppure dimenticare il fattore \(\frac{1}{2}\)
            derivato dal \(dx = \frac{1}{2}du\).
          </div>
        </div>
      </div>
    </section>

    <!-- APPLICAZIONI -->
    <section id="applicazioni" class="tab-content">
      <h2>4. Applicazioni di integrali definiti</h2>
      <p>
        Qui vediamo come gli integrali definiti compaiono in problemi di <strong>geometria</strong>
        e di <strong>fisica</strong.>
      </p>

      <h3>4.1 Aree di regioni piane</h3>
      <p>
        L’area tra il grafico di una funzione continua \(y=f(x)\) e l’asse \(x\), da \(x=a\) a \(x=b\),
        con \(f(x) \ge 0\) su \([a,b]\), è:
      </p>
      <p class="formula-inline">
        \(\displaystyle A = \int_a^b f(x)\,dx.\)
      </p>

      <div class="box-warning">
        <strong>Errore tipico:</strong> se la funzione scende sotto l’asse \(x\),
        l’integrale restituisce un’area con segno, non l’area “geometrica”.
        In quel caso occorre spesso spezzare l’intervallo nei tratti in cui
        la funzione è positiva/negativa, e sommare i moduli.
      </div>

      <!-- Esercizio area -->
      <div class="exercise">
        <h4>Esercizio AP1 – Area sotto una parabola</h4>
        <div class="exercise-level">Geometria</div>
        <p>
          Trova l’area della regione compresa tra il grafico di
          \[
            y = 4x - x^2
          \]
          e l’asse \(x\).
        </p>
        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p><strong>1° passo – Intersezioni con l’asse \(x\)</strong></p>
          <p>
            Cerco dove \(4x - x^2 = 0\):
            \[
              x(4 - x) = 0 \quad\Rightarrow\quad x=0 \ \text{oppure}\ x=4.
            \]
            Quindi la regione è tra \(x=0\) e \(x=4\).
          </p>

          <p><strong>2° passo – Verifico il segno</strong></p>
          <p>
            La parabola è rivolta verso il basso, ma tra \(0\) e \(4\) i valori di \(y\) sono
            positivi (a parte gli estremi). Quindi:
            \[
              A = \int_0^4 (4x - x^2)\,dx.
            \]
          </p>

          <p><strong>3° passo – Calcolo dell’integrale</strong></p>
          <p>
            Primitiva:
            \[
              \int (4x - x^2)\,dx = 2x^2 - \frac{x^3}{3} + C.
            \]
          </p>
          <p>
            Valuto da 0 a 4:
            \[
              \left[2x^2 - \frac{x^3}{3}\right]_0^4
              = \left(2\cdot 16 - \frac{64}{3}\right) - 0
              = 32 - \frac{64}{3}
              = \frac{96}{3} - \frac{64}{3}
              = \frac{32}{3}.
            \]
          </p>
          <p>
            <strong>Area:</strong> \(\displaystyle A = \frac{32}{3}\) (unità di area).
          </p>

          <div class="box-tip">
            <strong>Controllo qualitativo:</strong> l’area è “un po’ più grande di 10”,
            compatibile con la forma della parabola e l’ampiezza della base.
          </div>
        </div>
      </div>

      <h3>4.2 Area tra due curve</h3>
      <p>
        Se \(f(x) \ge g(x)\) su \([a,b]\), l’area tra le due curve \(y=f(x)\) e \(y=g(x)\)
        è:
      </p>
      <p class="formula-inline">
        \(\displaystyle A = \int_a^b (f(x) - g(x))\,dx.\)
      </p>

      <!-- Esercizio area tra due curve -->
      <div class="exercise">
        <h4>Esercizio AP2 – Area tra parabola e retta</h4>
        <div class="exercise-level">Geometria</div>
        <p>
          Calcola l’area compresa tra le curve
          \[
            y_1 = x + 2, \quad y_2 = x^2
          \]
          nel loro intervallo di intersezione.
        </p>
        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p><strong>1° passo – Intersezioni</strong></p>
          <p>
            Risolvo:
            \[
              x + 2 = x^2 \quad\Rightarrow\quad x^2 - x - 2 = 0.
            \]
            Le soluzioni sono:
            \[
              x = \frac{1 \pm \sqrt{1 + 8}}{2} = \frac{1 \pm 3}{2}
              \Rightarrow x = 2,\; x = -1.
            \]
          </p>

          <p><strong>2° passo – Chi sta sopra?</strong></p>
          <p>
            Prendo un punto intermedio, ad esempio \(x=0\):
            \[
              y_1(0) = 2,\quad y_2(0) = 0.
            \]
            Quindi \(y_1 = x+2\) sta sopra \(y_2 = x^2\) tra \(-1\) e \(2\).
          </p>

          <p><strong>3° passo – Imposto l’integrale dell’area</strong></p>
          <p>
            \[
              A = \int_{-1}^{2} \big( (x+2) - x^2 \big)\,dx.
            \]
          </p>
          <p>
            Primitiva:
            \[
              \int (x+2 - x^2)\,dx
              = \frac{x^2}{2} + 2x - \frac{x^3}{3} + C.
            \]
          </p>
          <p>
            Valuto da \(-1\) a \(2\):
          </p>
          <p>
            \[
              F(2) = \frac{4}{2} + 2\cdot 2 - \frac{8}{3}
                  = 2 + 4 - \frac{8}{3}
                  = 6 - \frac{8}{3}
                  = \frac{18}{3} - \frac{8}{3}
                  = \frac{10}{3},
            \]
            \[
              F(-1) = \frac{1}{2} + 2(-1) - \frac{(-1)^3}{3}
                    = \frac{1}{2} - 2 + \frac{1}{3}
                    = -\frac{3}{2} + \frac{1}{3}
                    = -\frac{9}{6} + \frac{2}{6}
                    = -\frac{7}{6}.
            \]
          </p>
          <p>
            Allora:
            \[
              A = F(2) - F(-1)
                = \frac{10}{3} - \left(-\frac{7}{6}\right)
                = \frac{10}{3} + \frac{7}{6}
                = \frac{20}{6} + \frac{7}{6}
                = \frac{27}{6}
                = \frac{9}{2}.
            \]
          </p>
          <p>
            <strong>Area:</strong> \(\displaystyle A = \frac{9}{2}\).
          </p>
        </div>
      </div>

      <h3>4.3 Applicazioni fisiche (cinematica)</h3>
      <p>
        In fisica, spesso l’integrale definito rappresenta un <strong>accumulo</strong>:
        area sotto il grafico di una grandezza nel tempo.
        Alcuni esempi:
      </p>
      <ul>
        <li>
          <strong>Spazio percorso</strong>: se la velocità è funzione del tempo \(v(t)\),
          allora lo spazio percorso tra \(t_1\) e \(t_2\) è
          \[
            s = \int_{t_1}^{t_2} v(t)\,dt.
          \]
        </li>
        <li>
          <strong>Lavoro di una forza variabile</strong>: se una forza dipende dalla posizione \(F(x)\),
          il lavoro nel tratto \([a,b]\) è
          \[
            L = \int_a^b F(x)\,dx.
          \]
        </li>
      </ul>

      <!-- Esercizio fisica -->
      <div class="exercise">
        <h4>Esercizio AP3 – Spazio percorso da velocità variabile</h4>
        <div class="exercise-level">Fisica</div>
        <p>
          Un punto materiale si muove su una retta con velocità (in m/s)
          \[
            v(t) = 4t - 2,
          \]
          dove \(t\) è in secondi. Calcola lo spazio percorso tra \(t=0\) s e \(t=3\) s.
        </p>
        <button class="solution-toggle">Mostra soluzione</button>
        <div class="solution">
          <p>
            Lo spazio percorso è:
            \[
              s = \int_{0}^{3} v(t)\,dt = \int_{0}^{3} (4t - 2)\,dt.
            \]
          </p>
          <p>
            Primitiva:
            \[
              \int (4t - 2)\,dt = 2t^2 - 2t + C.
            \]
          </p>
          <p>
            Valuto da 0 a 3:
            \[
              s = \left[2t^2 - 2t\right]_{0}^{3}
                = (2\cdot 9 - 2\cdot 3) - (0 - 0)
                = (18 - 6) - 0
                = 12.
            \]
          </p>
          <p>
            <strong>Spazio percorso:</strong> \(s = 12\ \text{m}.\)
          </p>

          <div class="box-warning">
            <strong>Errore tipico:</strong> sbagliare le unità di misura o dimenticare che
            una velocità negativa significherebbe un moto verso il verso opposto. Qui
            \(v(t)\) diventa positiva dopo \(t = 0.5\) s; su \([0,3]\) il contributo è comunque
            uno spazio complessivo positivo.
          </div>
        </div>
      </div>

      <h3>4.4 Spunto “informatico”</h3>
      <p>
        In un contesto informatico, l’integrale può essere visto come l’“accumulo” di una
        quantità nel tempo. Ad esempio:
      </p>
      <ul>
        <li>
          grafico dell’uso di CPU di un processo: l’integrale può rappresentare
          il “tempo di CPU totale” consumato;
        </li>
        <li>
          grafico della banda di rete (Mbps) nel tempo: l’integrale su un intervallo
          di tempo dà una stima dei <strong>dati totali</strong> trasferiti.
        </li>
      </ul>

      <div class="box-tip">
        Puoi proporre agli studenti un grafico semplificato “a tratti” di banda di rete
        e chiedere di stimare il totale dei dati trasmessi via integrale (o per approssimazione
        con rettangoli).
      </div>
    </section>

    <!-- ERRORI COMUNI -->
    <section id="errori" class="tab-content">
      <h2>5. Errori comuni sugli integrali definiti &amp; strategie</h2>
      <p>
        Qui trovi un riepilogo degli errori più frequenti, con suggerimenti per evitarli.
        Può funzionare come <strong>checklist</strong> da mostrare prima di una verifica
        o come autovalutazione.
      </p>

      <h3>5.1 Errori sulle primitive</h3>
      <ul class="checklist">
        <li>
          Dimenticare di <strong>dividere per il nuovo esponente</strong>
          (es. primitiva di \(3x^2\) scritta come \(3x^3\) invece di \(x^3\)).
        </li>
        <li>
          Dimenticare di aggiungere le costanti corrette per funzioni come \(e^x\),
          \(\sin x\), \(\cos x\) (es. pensare che \(\int \cos x\,dx = \sin x + C\) va bene,
          ma \(\int \sin x\,dx = -\cos x + C\), il segno cambia).
        </li>
      </ul>

      <div class="box-tip">
        <strong>Strategia:</strong> prima di integrare, ripassa il tuo “mini formulario”
        di primitive standard; controlla sempre derivando mentalmente il risultato.
      </div>

      <h3>5.2 Errori sugli estremi di integrazione</h3>
      <ul class="checklist">
        <li>
          Scrivere <span class="error-highlight">\(F(a) - F(b)\)</span> invece di
          <span class="error-highlight">\(F(b) - F(a)\)</span>.
        </li>
        <li>
          Dimenticare di aggiornare gli estremi quando si fa un <strong>cambio di variabile</strong>
          (es. da \(x\) a \(u\)).
        </li>
        <li>
          Sbagliare i valori numerici in \(F(a)\) e \(F(b)\) (errori di calcolo, soprattutto
          con frazioni).
        </li>
      </ul>

      <div class="box-tip">
        <strong>Strategia:</strong>
        <ul>
          <li>Scrivi sempre il passaggio <span class="formula-inline">\([\;F(x)\;]_a^b = F(b) - F(a)\)</span>.</li>
          <li>Dopo un cambio di variabile, <u>rifai esplicitamente</u> la tabella: \(x=a \Rightarrow u = ...\), \(x=b \Rightarrow u= ...\).</li>
        </ul>
      </div>

      <h3>5.3 Errori su segni &amp; aree</h3>
      <ul class="checklist">
        <li>
          Trattare l’integrale definito come “area assoluta” senza tenere conto del segno
          della funzione.
        </li>
        <li>
          Dimenticare di spezzare l’intervallo nei punti di cambio di segno
          (intersezioni con l’asse \(x\) o tra due funzioni).
        </li>
      </ul>

      <div class="box-tip">
        <strong>Strategia:</strong> fai sempre un piccolo schizzo del grafico
        (anche molto approssimato) per capire dove la funzione è positiva o negativa.
        Questo riduce tantissimo gli errori concettuali.
      </div>

      <h3>5.4 Errori sull’uso delle proprietà (pari/dispari, linearità, ecc.)</h3>
      <ul class="checklist">
        <li>
          Applicare le formule di funzioni pari/dispari senza controllare se l’intervallo è
          davvero simmetrico \([-a,a]\).
        </li>
        <li>
          Confondere funzione pari/dispari (es. pensare che \(x^2+1\) sia dispari).
        </li>
        <li>
          Usare la linearità in modo scorretto (es. “staccare” fattori che non sono costanti).
        </li>
      </ul>

      <div class="box-tip">
        <strong>Strategia:</strong>
        <ul>
          <li>Prima di usare la simmetria, verifica <strong>per definizione</strong> se \(f(-x)=f(x)\) o \(f(-x)=-f(x)\).</li>
          <li>Controlla che l’intervallo sia \([-a,a]\).</li>
        </ul>
      </div>

      <h3>5.5 Errori nel collegare integrale e problema reale</h3>
      <ul class="checklist">
        <li>
          Non scrivere <strong>prima</strong> la formula generale (es. \(s = \int v(t)\,dt\))
          e passare subito ai numeri, perdendo il significato fisico.
        </li>
        <li>
          Dimenticare le unità di misura (es. risultato in metri, Joule, Coulomb, ecc.).
        </li>
      </ul>

      <div class="box-tip">
        <strong>Strategia:</strong> in un problema di applicazione:
        <ol>
          <li>Scrivi la formula “teorica” con l’integrale.</li>
          <li>Solo dopo sostituisci i dati.</li>
          <li>Alla fine verifica l’unità di misura del risultato.</li>
        </ol>
      </div>
    </section>
  </div>

  <script>
    // Gestione tab
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const target = btn.getAttribute('data-tab');

        tabButtons.forEach(b => b.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));

        btn.classList.add('active');
        document.getElementById(target).classList.add('active');

        // Aggiorna MathJax quando si cambia scheda
        if (window.MathJax) {
          MathJax.typesetPromise();
        }
      });
    });

    // Gestione soluzioni a comparsa
    const toggles = document.querySelectorAll('.solution-toggle');
    toggles.forEach(t => {
      t.addEventListener('click', () => {
        const solution = t.nextElementSibling;
        if (!solution) return;

        solution.classList.toggle('solution-visible');
        t.textContent = solution.classList.contains('solution-visible')
          ? 'Nascondi soluzione'
          : 'Mostra soluzione';

        if (window.MathJax) {
          MathJax.typesetPromise();
        }
      });
    });
  </script>
</body>
</html>
